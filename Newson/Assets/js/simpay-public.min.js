!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=334)}({103:function(e,t,r){var n=r(335),o=r(336),i=r(337),a=r(338);e.exports=function(e){return n(e)||o(e)||i(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},12:function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.default=e.exports,e.exports.__esModule=!0},137:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.default=e.exports,e.exports.__esModule=!0},138:function(e,t){Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Number.isSafeInteger=Number.isSafeInteger||function(e){return Number.isInteger(e)&&Math.abs(e)<=Number.MAX_SAFE_INTEGER},Number.MAX_SAFE_INTEGER||(Number.MAX_SAFE_INTEGER=9007199254740991)},139:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return u}));var n=r(72),o=r.n(n),i=r(51),a=r.n(i);function u(e,t){return c.apply(this,arguments)}function c(){return(c=o()(a.a.mark((function t(r,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.ajax({data:n,method:"POST",url:"".concat(wpApiSettings.root,"wpsp/").concat(r),beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wpApiSettings.nonce)}});case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),t.t0.responseJSON;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}}).call(this,r(15))},141:function(e,t,r){"use strict";r.d(t,"a",(function(){return J})),r.d(t,"b",(function(){return H})),r.d(t,"c",(function(){return Y}));var n=r(12),o=r.n(n),i=r(103),a=r.n(i),u=r(42),c=r.n(u),s=r(31),l=r.n(s),f=r(69),p=r.n(f);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(){function e(t,r){if(l()(this,e),this.cart=null,this.id=null,this.title=null,this.amount=0,this.quantity=1,this.subscription=!1,this.price=null,"object"!==c()(r))throw{id:"invalid-line-item-cart",message:"Item must have an cart."};this.cart=r,this.update(t)}return p()(e,[{key:"update",value:function(e){var t=d(d({},this),e),r=t.id,n=t.title,o=t.amount,i=t.quantity,a=t.subscription,u=t.price;if("string"!=typeof r)throw{id:"invalid-line-item-id",message:"Item ID must be a string."};if(this.id=r,"string"!=typeof n)throw{id:"invalid-line-item-title",message:"Item title must be a string."};if(this.title=n,!Number.isSafeInteger(o))throw{id:"invalid-line-item-amount",message:"Item amount must be an integer."};if(this.amount=o,!Number.isSafeInteger(i))throw{id:"invalid-line-item-quantity",message:"Item quantity must be an integer."};if(this.quantity=i,!1!==a&&"object"!==c()(a))throw{id:"invalid-line-item-subscription",message:"Item subscription data must be a false or contain subscription data."};return this.subscription=a,"object"===c()(u)&&null!==u?this.price=u:this.price=null,this}},{key:"remove",value:function(){var e=this,t=this.cart.getLineItems().filter((function(t){var r=t.id;return e.id!==r}));return this.cart.items=t,this}},{key:"getUnitPrice",value:function(){return this.amount}},{key:"getQuantity",value:function(){return this.quantity}},{key:"getDiscount",value:function(){var e=this.cart.getDiscount();if(0===e)return 0;var t=this.cart.getLineItems().filter((function(e){return 0!==e.getUnitPrice()}));return Math.round(e/t.length)}},{key:"getSubtotal",value:function(){if(this.subscription&&!1!==this.subscription.isTrial)return 0;var e=this.getUnitPrice()*this.getQuantity();return 0===e?e:Math.round(e-this.getDiscount())}},{key:"getInclusiveTaxAmount",value:function(){var e=this.cart.getTaxPercent("inclusive")/100,t=this.getSubtotal(),r=Math.round(t-t/(1+e));return Math.round(t-(t-r))}},{key:"getTaxableAmount",value:function(){var e=this.getSubtotal(),t=this.getInclusiveTaxAmount();return Math.round(e-t)}},{key:"getTax",value:function(){var e=this.getTaxableAmount(),t=this.cart.getTaxPercent("exclusive");return Math.round(e*(t/100))}},{key:"getTotal",value:function(){return this.getSubtotal()+this.getTax()}}]),e}(),y=m;function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=function(){function e(t){l()(this,e),this.items=[],this.currency="usd",this.taxPercent=0,this.taxRates=[],this.coupon=!1,this.isNonDecimalCurrency=!1,this.update(t)}return p()(e,[{key:"update",value:function(e){var t=g(g({},this),e),r=t.currency,n=t.taxPercent,o=t.taxRates,i=t.coupon,a=t.isNonDecimalCurrency;if("string"!=typeof r)throw{id:"invalid-currency",message:"Currency must be a string."};if(this.currency=r,isNaN(n))throw{id:"invalid-tax-percent",message:"Tax percentage must be a number."};if(this.taxPercent=parseFloat(n),o&&Array.isArray(o)&&(this.taxRates=o),!1!==i&&"object"!==c()(i))throw{id:"invalid-coupon",message:"Coupon must be a false or contain coupon data."};if(this.coupon=i,"boolean"!=typeof a)throw{id:"invalid-non-decimal-currency",message:"Declaring a non-decimal currency must be a boolean."};return this.isNonDecimalCurrency=a,this}},{key:"reset",value:function(){return new e}},{key:"getCurrency",value:function(){var e=this.getLineItem("base").price;return null===e?spGeneral.strings.currency:e.currency}},{key:"getCurrencySymbol",value:function(){var e=this.getLineItem("base").price;return null===e?spGeneral.strings.currencySymbol:e.currency_symbol}},{key:"isZeroDecimal",value:function(){var e=this.getLineItem("base").price.is_zero_decimal;return e}},{key:"getCoupon",value:function(){return this.coupon}},{key:"getTaxPercent",value:function(e){return this.getTaxRates().reduce((function(t,r){var n=r.calculation,o=r.percentage;return e!==n?t:t+o}),0)}},{key:"getTaxDecimal",value:function(){return this.taxPercent/100}},{key:"getTaxRates",value:function(){return this.taxRates}},{key:"getLineItems",value:function(){return this.items}},{key:"getSubtotal",value:function(){return this.getLineItems().reduce((function(e,t){return e+Math.round(t.getUnitPrice()*t.getQuantity())}),0)}},{key:"getDiscount",value:function(){var e=this.getCoupon(),t=e.percent_off,r=e.amount_off,n=0;return!1===e||(t?n+=Math.round(this.getSubtotal()*(t/100)):r&&(n+=r)),n}},{key:"getTax",value:function(){return this.getLineItems().reduce((function(e,t){return e+t.getTax()}),0)}},{key:"getAppliedTaxRates",value:function(){var e=this.getLineItems(),t=this.getTaxRates().filter((function(e){return"inclusive"!==e.calculation})),r=this.getTaxPercent("exclusive")/100,n=this.getTaxRates().filter((function(e){return"exclusive"!==e.calculation})),o=this.getTaxPercent("inclusive")/100,i={};return e.forEach((function(e){var u=e.getTax(),c=e.getTaxableAmount(),s=e.getInclusiveTaxAmount();t.forEach((function(e,n){var o=e.id,s=e.percentage/100,l=0;if(n===t.length-1){var f=t.filter((function(e){return e.id!==o})).reduce((function(e,t){return e+t.percentage}),0)/100,p=Math.floor(c*f);l=u-p}else l=Math.floor(u*(s/r));i[o]=[].concat(a()(i[o]||[]),[l])})),n.forEach((function(e,t){var r,u=e.id,c=e.percentage/100;if(t===n.length-1){var l=n.filter((function(e){return e.id!==u})).reduce((function(e,t){var r=t.percentage;return e+Math.floor(s*(r/100/o))}),0);r=s-l}else r=Math.floor(s*(c/o));i[u]=[].concat(a()(i[u]||[]),[r])}))})),i}},{key:"getTotal",value:function(){return this.getLineItems().reduce((function(e,t){return e+t.getTotal()}),0)}},{key:"getRecurringTotal",value:function(){var e=this.getLineItem("base"),t=e.getUnitPrice()*e.getQuantity();t=Math.round(t-this.getDiscount());var r=this.getTaxRates(),n=this.getTaxPercent("inclusive")/100,o=Math.round(t-t/(1+n)),i=Math.round(t-o),a=r.reduce((function(e,t){var r=t.percentage;return"inclusive"===t.calculation?e:e+Math.round(i*(r/100))}),0);return Math.round(t+a)}},{key:"getLineItem",value:function(e){var t=this.getLineItems().filter((function(t){return t.id===e}));if(0===t.length)throw{id:"invalid-line-item",message:'Unable to retrieve line item "'.concat(e,'"')};return t[0]}},{key:"addLineItem",value:function(e){var t;return t=!0==e instanceof y?e:new this.LineItem(e,this),this.items.push(t),t}}]),e}();var x=r(70),O=r.n(x),w=r(71),_=r.n(w),j=r(50),P=r.n(j);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=P()(e);if(t){var o=P()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _()(this,r)}}var S=function(e){O()(r,e);var t=k(r);function r(){return l()(this,r),t.apply(this,arguments)}return r}(m);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=P()(e);if(t){var o=P()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _()(this,r)}}var T=function(e){O()(r,e);var t=A(r);function r(e){var n;return l()(this,r),(n=t.call(this,e)).LineItem=S,n}return r}(b);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var F=r(72),D=r.n(F),L=r(51),M=r.n(L),R=r(56),C=r.n(R),N=r(73);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return Object(N.apiRequest)("v2/customer",G({form_values:C()(t[0],{hash:!0}),form_data:JSON.stringify(r),form_id:r.formId},e))}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return Object(N.apiRequest)("v2/checkout-session",U({form_values:C()(t[0],{hash:!0}),form_data:JSON.stringify(r),form_id:r.formId},e))}function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $(){return($=D()(M.a.mark((function e(t,r){var n,o,i,a,u,c,s,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.simpayApp,o=n.enableForm,i=n.disableForm,a=n.triggerBrowserValidation,i(t,r,!0),t[0].checkValidity()){e.next=6;break}return a(t,r),o(t,r),e.abrupt("return");case 6:if(t.trigger("simpayBeforeStripePayment",[t,r]),r.isValid){e.next=10;break}return o(t,r),e.abrupt("return");case 10:if(e.prev=10,u=null,!r.hasCustomerFields){e.next=19;break}return e.next=16,B({},t,Q(Q({},r),t.__experimentalFormData));case 16:c=e.sent,s=c.id,u=s;case 19:return e.next=21,Z({customer_id:u},t,Q(Q({},r),t.__experimentalFormData));case 21:l=e.sent,t.stripeInstance.redirectToCheckout({sessionId:l.sessionId}).then((function(e){var n=e.error;n&&Y(n,t,r)})),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(10),Y(e.t0,t,r);case 28:case"end":return e.stop()}}),e,null,[[10,25]])})))).apply(this,arguments)}var X={setup:function(e,t,r){var n=t.find(".simpay-payment-btn")[0],o=window.simpayApp,i=o.enableForm,a=o.disableForm;if(window.spShared.debugLog,"stripe-checkout"===J(t,r)){a(t,r,!0);try{var u=function(e){var t=window.spShared,r=t.debugLog,n=t.convertToCents,o=window.spGeneral.booleans.isZeroDecimal,i=e.stripeParams.currency,a=e.amount,u=e.isSubscription,c=e.quantity,s=e.isTrial,l=e.planInterval,f=e.planIntervalCount,p=e.feePercent,h=e.feeAmount,d=e.taxPercent,m={currency:i,items:[],taxPercent:0,isNonDecimalCurrency:o};if(m.items.push({id:"setup-fee",title:"Initial Setup Fee",amount:0,quantity:1,subscription:!1}),m.items.push({id:"plan-setup-fee",title:"Plan Setup Fee",amount:0,quantity:1,subscription:!1}),u)m.items.push({id:"base",title:"Subscription",amount:n(a),quantity:c,subscription:{isTrial:s,interval:l,intervalCount:f}});else{var y=a;!isNaN(h)&&h>0&&(y+=h,r("feeAmount:","Arbitrary fee amounts should be added to the base amount directly.")),m.items.push({id:"base",title:"One-time amount",amount:n(y),quantity:c,subscription:!1})}return isNaN(d)||(m.taxPercent=d),!isNaN(p)&&p>0&&(m.taxPercent=m.taxPercent+p,r("feePercent:","Arbitrary fee percentages should be added to the taxPercent directly.")),m}(r),c=u.items,s=u.currency,l=u.taxPercent,f=u.isNonDecimalCurrency,p=r.taxRates,h=new T({currency:s,taxPercent:l,taxRates:p,isNonDecimalCurrency:f});c.length>0&&c.forEach((function(e){h.addLineItem(e)}));var d=t.__experimentalFormData.price,m=h.getLineItem("base");m.update(E(E({},m),{},{price:d})),t.cart=h,i(t,r),n.addEventListener("click",(function(e){if(e.preventDefault(),window.simpayGoogleRecaptcha){var n=simpayGoogleRecaptcha,o=n.siteKey,i=n.i18n;grecaptcha.ready((function(){try{grecaptcha.execute(o,{action:"simple_pay_form_".concat(r.formId,"_customer")}).then((function(e){t.append('<input type="hidden" name="grecaptcha_customer" value="'+e+'" />'),grecaptcha.execute(o,{action:"simple_pay_form_".concat(r.formId,"_payment")}).then((function(e){t.append('<input type="hidden" name="grecaptcha_payment" value="'+e+'" />'),H()[J(t,r)].submit(t,r)}))})).catch((function(e){Y(i.error,t,r)}))}catch(e){Y(i.error,t,r)}}))}else H()[J(t,r)].submit(t,r)}))}catch(e){Y(e,t,r)}}},submit:function(e,t){return $.apply(this,arguments)},onError:Y};function J(e,t){return void 0===t.formDisplayType||"stripe_checkout"===t.formDisplayType?"stripe-checkout":"stripe-elements"}var H=function(){return{"stripe-checkout":X}};function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=window.simpayApp,o=n.showError,i=n.enableForm,a=(window.spShared.debugLog,r.stripeErrorMessages),u=e.message||"";e.code&&a[e.code]&&(u=a[e.code]),o(t,r,u),i(t,r)}},15:function(e,t){e.exports=jQuery},31:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},334:function(e,t,r){"use strict";r.r(t),function(e){var t=r(12),n=r.n(t),o=r(49),i=r(141);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c,s,l,f=window.spShared,p=f.convertToDollars,h=f.formatCurrency;c={formCount:0,spFormElList:{},spFormData:{},spFormElems:{},init:function(){l=s(document.body),c.spFormElList=l.find(".simpay-checkout-form:not(.simpay-update-payment-method)");var e=Object(i.b)()["stripe-checkout"].setup;l.on("simpayCoreFormVarsInitialized",e),c.spFormElList.each((function(e){var t=s(this);c.setupCoreForm(t),c.formCount++,l.trigger("simpaySetupCoreForm",[t])}))},isStripeCheckoutForm:function(e){return void 0===e.formDisplayType||"stripe_checkout"===e.formDisplayType},setupCoreForm:function(e){e.attr("data-simpay-form-instance",c.formCount);var t=e.data("simpay-form-id"),r=simplePayForms[t],n=u(u(u(u(u({formId:t,formInstance:c.formCount,quantity:1,isValid:!0,stripeParams:u(u({},r.stripe.strings),r.stripe.bools),prices:r.form.prices},r.form.bools),r.form.integers),r.form.i18n),r.form.strings),r.form.config),o=n.prices;e.__experimentalFormData={customAmount:!1,coupon:!1,price:_.find(o,(function(e){return!0===e.default}))},e.__experimentalSetFormData=function(t){e.__experimentalFormData=u(u({},e.__experimentalFormData),t)};var i=n.stripeParams,a=i.key,s=i.elementsLocale;e.stripeInstance=Stripe(a,{locale:s||"auto"}),window.simpayApp.spFormData[t]=n,window.simpayApp.spFormElems[t]=e,l.trigger("simpayCoreFormVarsInitialized",[e,n]),l.trigger("simpayBindCoreFormEventsAndTriggers",[e,n])},setCoreFinalAmount:function(e,t){t.finalAmount=e.cart.getTotal(),l.trigger("simpayFinalizeCoreAmount",[e,t])},disableForm:function(e,t,r){var n=e.find(".simpay-payment-btn"),o=t.paymentButtonLoadingText;e.addClass("simpay-checkout-form--loading"),window.simpayApp.isStripeCheckoutForm(t)||(n=e.find(".simpay-checkout-btn"),o=t.checkoutButtonLoadingText),n.prop("disabled",!0),!0===r&&n.addClass("simpay-disabled").find("span").html(o)},enableForm:function(e,t){var r=e.cart;if(void 0!==r){var n=e.find(".simpay-payment-btn"),o=t.paymentButtonLoadingText,i=t.paymentButtonText;e.removeClass("simpay-checkout-form--loading"),window.simpayApp.isStripeCheckoutForm(t)||(n=e.find(".simpay-checkout-btn"),o=t.checkoutButtonLoadingText,i=t.checkoutButtonText),n.prop("disabled",!1).removeClass("simpay-disabled");var a=document.createElement("div");if(a.innerHTML=o,s(a).html()===n.find("span").html())if(0===r.getTotal()){var u=t.startTrial;n.find("span").text(u)}else{var c=h(r.isZeroDecimal()?r.getTotal():p(r.getTotal()),!0,r.getCurrencySymbol(),r.isZeroDecimal()),l='<em class="simpay-total-amount-value">'.concat(c,"</span>");i=i.replace("{{amount}}",l),n.find("span").html(i)}}},showError:function(e,t,r){return e.find(".simpay-errors").html(r)},triggerBrowserValidation:function(e,t){return s("<input>").attr({type:"submit",style:{display:"none"}}).appendTo(e).click().remove()}},(s=e)(document).ready((function(){return c.init()})),window.simpayApp=c,window.wpsp={hooks:o.a}}.call(this,r(15))},335:function(e,t,r){var n=r(137);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.default=e.exports,e.exports.__esModule=!0},336:function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},337:function(e,t,r){var n=r(137);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},338:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},339:function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,r(t,n)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},340:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},42:function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},49:function(e,t,r){"use strict";var n=function(e){return"string"!=typeof e||""===e?(console.error("The namespace must be a non-empty string."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)||(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)};var o=function(e){return"string"!=typeof e||""===e?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)||(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)};var i=function(e){return function(t,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;if(o(t)&&n(r))if("function"==typeof i)if("number"==typeof a){var u={callback:i,priority:a,namespace:r};if(e[t]){var c,s=e[t].handlers;for(c=s.length;c>0&&!(a>=s[c-1].priority);c--);c===s.length?s[c]=u:s.splice(c,0,u),(e.__current||[]).forEach((function(e){e.name===t&&e.currentIndex>=c&&e.currentIndex++}))}else e[t]={handlers:[u],runs:0};"hookAdded"!==t&&d("hookAdded",t,r,i,a)}else console.error("If specified, the hook priority must be a number.");else console.error("The hook callback must be a function.")}};var a=function(e,t){return function(r,i){if(o(r)&&(t||n(i))){if(!e[r])return 0;var a=0;if(t)a=e[r].handlers.length,e[r]={runs:e[r].runs,handlers:[]};else for(var u=e[r].handlers,c=function(t){u[t].namespace===i&&(u.splice(t,1),a++,(e.__current||[]).forEach((function(e){e.name===r&&e.currentIndex>=t&&e.currentIndex--})))},s=u.length-1;s>=0;s--)c(s);return"hookRemoved"!==r&&d("hookRemoved",r,i),a}}};var u=function(e){return function(t,r){return void 0!==r?t in e&&e[t].handlers.some((function(e){return e.namespace===r})):t in e}};var c=function(e,t){return function(r){e[r]||(e[r]={handlers:[],runs:0}),e[r].runs++;var n=e[r].handlers;for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(!n||!n.length)return t?i[0]:void 0;var u={name:r,currentIndex:0};for(e.__current.push(u);u.currentIndex<n.length;){var c=n[u.currentIndex],s=c.callback.apply(null,i);t&&(i[0]=s),u.currentIndex++}return e.__current.pop(),t?i[0]:void 0}};var s=function(e){return function(){return e.__current&&e.__current.length?e.__current[e.__current.length-1].name:null}};var l=function(e){return function(t){return void 0===t?void 0!==e.__current[0]:!!e.__current[0]&&t===e.__current[0].name}};var f=function(e){return function(t){if(o(t))return e[t]&&e[t].runs?e[t].runs:0}};var p=function(){var e=Object.create(null),t=Object.create(null);return e.__current=[],t.__current=[],{addAction:i(e),addFilter:i(t),removeAction:a(e),removeFilter:a(t),hasAction:u(e),hasFilter:u(t),removeAllActions:a(e,!0),removeAllFilters:a(t,!0),doAction:c(e),applyFilters:c(t,!0),currentAction:s(e),currentFilter:s(t),doingAction:l(e),doingFilter:l(t),didAction:f(e),didFilter:f(t),actions:e,filters:t}},h=p(),d=(h.addAction,h.addFilter,h.removeAction,h.removeFilter,h.hasAction,h.hasFilter,h.removeAllActions,h.removeAllFilters,h.doAction);h.applyFilters,h.currentAction,h.currentFilter,h.doingAction,h.doingFilter,h.didAction,h.didFilter,h.actions,h.filters,t.a=p()},50:function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},51:function(e,t,r){e.exports=r(99)},56:function(e,t){var r=/^(?:submit|button|image|reset|file)$/i,n=/^(?:input|select|textarea|keygen)/i,o=/(\[[^\[\]]*\])/g;function i(e,t,r){if(t.match(o)){!function e(t,r,n){if(0===r.length)return t=n;var o=r.shift(),i=o.match(/^\[(.+?)\]$/);if("[]"===o)return t=t||[],Array.isArray(t)?t.push(e(null,r,n)):(t._values=t._values||[],t._values.push(e(null,r,n))),t;if(i){var a=i[1],u=+a;isNaN(u)?(t=t||{})[a]=e(t[a],r,n):(t=t||[])[u]=e(t[u],r,n)}else t[o]=e(t[o],r,n);return t}(e,function(e){var t=[],r=new RegExp(o),n=/^([^\[\]]*)/.exec(e);for(n[1]&&t.push(n[1]);null!==(n=r.exec(e));)t.push(n[1]);return t}(t),r)}else{var n=e[t];n?(Array.isArray(n)||(e[t]=[n]),e[t].push(r)):e[t]=r}return e}function a(e,t,r){return r=r.replace(/(\r)?\n/g,"\r\n"),r=(r=encodeURIComponent(r)).replace(/%20/g,"+"),e+(e?"&":"")+encodeURIComponent(t)+"="+r}e.exports=function(e,t){"object"!=typeof t?t={hash:!!t}:void 0===t.hash&&(t.hash=!0);for(var o=t.hash?{}:"",u=t.serializer||(t.hash?i:a),c=e&&e.elements?e.elements:[],s=Object.create(null),l=0;l<c.length;++l){var f=c[l];if((t.disabled||!f.disabled)&&f.name&&(n.test(f.nodeName)&&!r.test(f.type))){var p=f.name,h=f.value;if("checkbox"!==f.type&&"radio"!==f.type||f.checked||(h=void 0),t.empty){if("checkbox"!==f.type||f.checked||(h=""),"radio"===f.type&&(s[f.name]||f.checked?f.checked&&(s[f.name]=!0):s[f.name]=!1),null==h&&"radio"==f.type)continue}else if(!h)continue;if("select-multiple"!==f.type)o=u(o,p,h);else{h=[];for(var d=f.options,m=!1,y=0;y<d.length;++y){var v=d[y],g=t.empty&&!v.value,b=v.value||g;v.selected&&b&&(m=!0,o=t.hash&&"[]"!==p.slice(p.length-2)?u(o,p+"[]",v.value):u(o,p,v.value))}!m&&t.empty&&(o=u(o,p,""))}}}if(t.empty)for(var p in s)s[p]||(o=u(o,p,""));return o}},69:function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e},e.exports.default=e.exports,e.exports.__esModule=!0},70:function(e,t,r){var n=r(339);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},71:function(e,t,r){var n=r(42).default,o=r(340);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?o(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},72:function(e,t){function r(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function u(e){r(a,o,i,u,c,"next",e)}function c(e){r(a,o,i,u,c,"throw",e)}u(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},73:function(e,t,r){"use strict";var n=r(138);r.o(n,"apiRequest")&&r.d(t,"apiRequest",(function(){return n.apiRequest}));var o=r(139);r.d(t,"apiRequest",(function(){return o.a}))},99:function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new _(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return P()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=x(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,a),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l={};function f(){}function p(){}function h(){}var d={};d[o]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(j([])));y&&y!==t&&r.call(y,o)&&(d=y);var v=h.prototype=f.prototype=Object.create(d);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=s(e[o],e,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=v.constructor=h,h.constructor=p,p.displayName=u(h,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),b.prototype[i]=function(){return this},e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),u(v,a,"Generator"),v[o]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=j,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;w(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}}});
//# sourceMappingURL=simpay-public.min.js.map